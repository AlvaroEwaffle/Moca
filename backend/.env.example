# =============================================================================
# Moca Backend — Required Environment Variables
# Copy this file to .env and fill in your values.
# ALL variables marked REQUIRED will cause the server to refuse to start if missing.
# =============================================================================

# Server
PORT=3002
NODE_ENV=development

# Database (REQUIRED)
MONGODB_URI=mongodb+srv://user:password@cluster.mongodb.net/moca?retryWrites=true&w=majority

# Auth (REQUIRED — no fallback, server throws at startup if missing)
JWT_SECRET=replace-with-a-long-random-secret-min-32-chars

# OpenAI (REQUIRED)
OPENAI_API_KEY=sk-...
# Optional overrides for OpenAI calls:
# OPENAI_MODEL=gpt-4o
# OPENAI_MAX_TOKENS=1500
# OPENAI_STRUCTURED_MAX_TOKENS=1500
# LOG_AGENT_DECISIONS=true

# Instagram Graph API (ALL REQUIRED)
INSTAGRAM_APP_SECRET=your-meta-app-secret
INSTAGRAM_VERIFY_TOKEN=your-custom-webhook-verify-token
INSTAGRAM_CLIENT_ID=your-instagram-app-client-id
INSTAGRAM_CLIENT_SECRET=your-instagram-app-client-secret
# Must exactly match the redirect URI registered in the Meta App Dashboard
INSTAGRAM_REDIRECT_URI=https://moca.pages.dev/instagram-callback
